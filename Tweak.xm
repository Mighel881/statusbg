#import "SparkColourPickerUtils.h"%hook UIStatusBarBackgroundView-(id)initWithFrame:(CGRect)arg1 style:(id)arg2 backgroundColor:(id)arg3{	NSDictionary *enable = [[NSUserDefaults standardUserDefaults]persistentDomainForName:@"com.thomz.statusbarbg"];    id isEnabled = [enable valueForKey:@"isEnabled"];    NSDictionary *enable2 = [[NSUserDefaults standardUserDefaults]persistentDomainForName:@"com.thomz.statusbarbg"];    id iOS6 = [enable2 valueForKey:@"iso6"];    NSString* colourString = NULL;    NSDictionary* preferencesDictionary = [NSDictionary dictionaryWithContentsOfFile: @"/var/mobile/Library/Preferences/com.thomz.statusbarbg.plist"];    if(preferencesDictionary)    {        colourString = [preferencesDictionary objectForKey: @"macolor"];    }    UIColor* selectedColour = [SparkColourPickerUtils colourWithString: colourString withFallback: @"#000000"];        if([isEnabled isEqual:@0] && [iOS6 isEqual:@0]){    	    	return %orig;	} else if([isEnabled isEqual:@1] && [iOS6 isEqual:@0]){    		    	return %orig(CGRectMake(0,0,[UIScreen mainScreen].bounds.size.width,[UIApplication sharedApplication].statusBarFrame.size.height), arg2, selectedColour);    	} else if([isEnabled isEqual:@1] && [iOS6 isEqual:@1]){		return %orig(CGRectMake(0,0,[UIScreen mainScreen].bounds.size.width,[UIApplication sharedApplication].statusBarFrame.size.height), arg2, [UIColor colorWithRed:0.0 green:0.0 blue:0.0 alpha:0.65]);	}  else {		return %orig;	}}%end